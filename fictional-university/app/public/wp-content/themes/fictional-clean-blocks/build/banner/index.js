(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=JSON.parse('{"UU":"ourblocktheme/banner"}'),a=window.wp.apiFetch;var i=e.n(a);const o=window.wp.components,r=window.wp.blockEditor,s=window.wp.element,c=window.ReactJSXRuntime;(0,t.registerBlockType)(n.UU,{edit:function(e){const t=(0,r.useBlockProps)();return(0,s.useEffect)((()=>{e.attributes.imageURL||e.setAttributes({imageURL:ourThemeData.themeImagePath+"/images/library-hero.jpg"})}),[]),(0,s.useEffect)((()=>{if(e.attributes.imageID){async function t(){const t=await i()({path:`/wp/v2/media/${e.attributes.imageID}`,method:"GET"});e.setAttributes({imageURL:t.media_details.sizes.pageBanner.source_url})}t()}}),[e.attributes.imageID]),(0,c.jsxs)("div",{...t,children:[(0,c.jsx)(r.InspectorControls,{children:(0,c.jsx)(o.PanelBody,{title:"Background",initialOpen:!0,children:(0,c.jsx)(o.PanelRow,{children:(0,c.jsx)(r.MediaUploadCheck,{children:(0,c.jsx)(r.MediaUpload,{onSelect:function(t){console.log(t.id),e.setAttributes({imageID:t.id})},value:e.attributes.imageID,render:({open:e})=>(0,c.jsx)(o.Button,{onClick:e,children:"Choose Image"})})})})})}),(0,c.jsxs)("div",{className:"page-banner",children:[(0,c.jsx)("div",{className:"page-banner__bg-image",style:{backgroundImage:`url('${e.attributes.imageURL}')`}}),(0,c.jsx)("div",{className:"page-banner__content container t-center c-white",children:(0,c.jsx)(r.InnerBlocks,{allowedBlocks:["ourblocktheme/genericheading","ourblocktheme/genericbutton"]})})]})]})}})})();